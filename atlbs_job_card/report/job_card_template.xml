<odoo>
<template id="report_job_card_cost_analysis">
  <t t-call="web.html_container">
    <t t-call="web.external_layout">
      <t t-if="docs and docs[0]">
        <t t-set="doc" t-value="docs[0]"/>
        <div class="page" style="font-family: Arial, sans-serif;">

          <h2 style="text-align: center; margin-bottom: 20px;">Cost Report</h2>

          <p>
            <strong>Job Card:</strong>
            <t t-esc="doc.job_card_id and doc.job_card_id.name or 'N/A'"/>
          </p>

          <h3 style="margin-top: 30px;">Invoice Report</h3>

          <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
            <thead>
              <tr style="background-color:#f0f0f0;">
                <th style="border: 1px solid #000; padding: 5px; text-align: left;">Department</th>
                <th style="border: 1px solid #000; padding: 5px; text-align: right;">Total</th>
              </tr>
            </thead>
            <tbody>
              <t t-foreach="doc.department_summary.items()" t-as="item">
                <tr>
                  <td style="border: 1px solid #000; padding: 5px;">
                    <t t-esc="item[0].replace('_', ' ').capitalize()"/>
                  </td>
                  <td style="border: 1px solid #000; padding: 5px; text-align: right;">
                    <t t-esc="'{:.2f}'.format(item[1])"/>
                  </td>
                </tr>
              </t>
            </tbody>
          </table>

        </div>
      </t>
      <t t-else="">
        <div>No data available for this report.</div>
      </t>
    </t>
  </t>
</template>
</odoo>

